generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

enum BlogCategory {
  TECHNOLOGY
  SOFTWARE
  DESIGN
  MARKETING
  AI
  FOOD
  MUSIC
  LIFESTYLE
  TRAVEL
  FINANCE
  EDUCATION
  HEALTH
  SPORTS
  ENTERTAINMENT
  POLITICS
  SCIENCE
  ENVIRONMENT
  FASHION
  AUTOMOTIVE
  REAL_ESTATE
  PHOTOGRAPHY
  BUSINESS
  CULTURE
  HISTORY
  RELIGION
  PHILOSOPHY
  PARENTING
  DIY
  GAMING
  BOOKS
  SELF_IMPROVEMENT
  CAREER
  NEWS
  SOFTWARE_ENGINEERING
  DEVOPS
  BACKEND
  FRONTEND
  MACHINE_LEARNING
  DEEP_LEARNING
  ELECTRONICS
  ROBOTICS
  EMBEDDED
  NEURAL_NETWORKS
  HEALTH_TECH
}

model BlogUser {
  id        String        @id @default(cuid())
  firstName String
  lastName  String
  username  String        @unique
  email     String        @unique
  password  String
  avatar    String?       // Profil fotoğrafı
  createdAt DateTime      @default(now())

  blogs     BlogPost[]    // Kullanıcının yazdığı bloglar
}

model BlogPost {
  id         String        @id @default(cuid())
  userId     String
  title      String
  category   BlogCategory
  content    String        @db.LongText
  thumbnail  String        @db.LongText
  slug       String        @unique
  createdAt  DateTime      @default(now())
  updatedAt  DateTime      @updatedAt

  user       BlogUser      @relation(fields: [userId], references: [id], onDelete: Cascade)
}